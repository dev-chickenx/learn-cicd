name: Test env vs context
on:
  workflow_dispatch:

jobs:
  test:
    runs-on: ubuntu-latest
    env:
      DANGEROUS: 'foo "bar" baz'

    steps:
      - name: "BAD: context directly in run"
        run: |
          set -x
          echo "${{ env.DANGEROUS }}"   # ← これがあなたの言っていたテスト内容

      - name: "GOOD: shell variable with quotes"
        run: |
          set -x
          echo "${DANGEROUS}"           # ← これがあなたの言っていた安全な書き方
